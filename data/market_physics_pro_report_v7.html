<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>ES / NQ Gamma Force Field å ±å‘Š â€“ 2026-02-27 æ”¶ç›¤å‰æˆªé¢</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Noto Sans TC", sans-serif;
      background-color: #0b1020;
      color: #f5f5f5;
      line-height: 1.6;
      margin: 0;
      padding: 24px;
    }
    h1, h2, h3 {
      color: #ffffff;
      margin-top: 24px;
      margin-bottom: 8px;
    }
    h1 {
      border-bottom: 2px solid #444;
      padding-bottom: 8px;
    }
    h2 {
      border-left: 4px solid #4fc3f7;
      padding-left: 8px;
    }
    h3 {
      color: #ffca28;
    }
    p {
      margin: 6px 0 10px 0;
    }
    ul {
      margin: 4px 0 10px 20px;
    }
    code {
      background-color: #1b2238;
      padding: 2px 4px;
      border-radius: 3px;
      font-size: 0.9em;
    }
    .section {
      margin-bottom: 24px;
    }
    .two-col {
      display: flex;
      gap: 24px;
      flex-wrap: wrap;
      align-items: flex-start;
    }
    .col {
      flex: 1 1 380px;
      min-width: 340px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 8px 0 16px 0;
      font-size: 0.9em;
    }
    th, td {
      border: 1px solid #333;
      padding: 6px 8px;
      text-align: right;
      vertical-align: top;
    }
    th {
      background-color: #1f2937;
      color: #f5f5f5;
      font-weight: 600;
    }
    td.label {
      text-align: left;
      white-space: nowrap;
    }
    td.text {
      text-align: left;
    }
    .tag {
      display: inline-block;
      padding: 1px 6px;
      border-radius: 10px;
      font-size: 0.8em;
      margin-right: 4px;
      background-color: #263238;
      color: #ffeb3b;
    }
    .tag-long { background-color: #1b5e20; color: #c8e6c9; }
    .tag-short { background-color: #b71c1c; color: #ffcdd2; }
    .tag-neutral { background-color: #37474f; color: #eceff1; }
    .note {
      font-size: 0.85em;
      color: #b0bec5;
    }
    hr {
      border: 0;
      border-top: 1px solid #333;
      margin: 24px 0;
    }
    figure {
      margin: 12px 0 16px 0;
      text-align: center;
    }
    #canvas-wrap {
      display: flex;
      gap: 24px;
      flex-wrap: wrap;
      align-items: flex-start;
      margin: 12px 0 4px 0;
    }
    canvas {
      background-color: #050814;
      border: 1px solid #333;
      border-radius: 4px;
    }
    figcaption {
      font-size: 0.9em;
      color: #cfd8dc;
      margin-top: 4px;
      text-align: center;
    }
  </style>
</head>
<body>

<h1>ES / NQ Gamma Force Field å ±å‘Š<br>2026-02-27 æ”¶ç›¤å‰æˆªé¢</h1>

<div class="section">
  <h2>0. å ±å‘Šç¸½è¦½</h2>
  <p>
    æœ¬å ±å‘Šä»¥ 2026-02-27 æ”¶ç›¤å‰çš„ SPX / NDX æœŸæ¬Š Gamma èˆ‡ Delta æª”ç‚ºåŸºç¤ï¼Œé‡å»º ES / NQ çš„ Gamma Force Fieldã€é—œéµåƒ¹ä½çŸ©é™£èˆ‡å°æ‡‰äº¤æ˜“ Playbookã€‚
  </p>
  <ul>
    >åŸå§‹ Gamma / Deltaï¼šde>SPX-20260227-0330-*.csv</code>ã€de>NDX-20260227-0330-*.csv</code>ã€‚</li>
    >æ›ç®—ç‚ºæœŸè²¨åƒ¹ï¼šES ä½¿ç”¨ de>BASIS_ES = 10.12</code>ï¼ŒNQ ä½¿ç”¨ de>BASIS_NQ = 44.71</code>ã€‚</li>
    >æ¯å€‹ Strike çš„ Net Gamma Exposure è½‰ç‚ºã€Œå„„ç¾å…ƒã€èˆ‡ã€Œç™¾è¬ USDã€åˆ»åº¦ï¼Œç”¨æ–¼åœ–è¡¨èˆ‡çŸ©é™£ã€‚</li>
  </ul>
</div>

<hr>

<div class="section">
  <h2>1. ES / NQ Gamma Force Fieldï¼ˆCanvas ç‰ˆï¼‰</h2>

  <p>
    ä¸‹æ–¹å…©å€‹ Canvas åˆ†åˆ¥ç¹ªå‡º 2026-02-27 æ”¶ç›¤å‰ï¼ŒES èˆ‡ NQ åœ¨ç¾åƒ¹é™„è¿‘ Â±120 / Â±500 é»å€é–“çš„ Net Gamma Force Fieldã€‚æ©«å‘æ¢é•·åº¦ç‚º Gamma åç›®æ›éšªï¼ˆç´„ç™¾è¬ USDï¼‰ï¼Œç¶ è‰²ç‚ºæ­£ Gammaã€ç´…è‰²ç‚ºè²  Gammaï¼›æ°´å¹³ç·šåˆ†åˆ¥æ¨™ç¤º Spotã€Flipã€Call Wallï¼ˆCWï¼‰ã€Put Wallï¼ˆPWï¼‰ã€‚
  </p>

  <div id="canvas-wrap">
    <div>
      anvas id="esCanvas" width="600" height="500"></canvas>
      <figcaption>åœ– 1ï¼šES Gamma Force Fieldï¼ˆ2/27 æ”¶ç›¤å‰ï¼Œç¾åƒ¹ Â±120 é»ï¼‰</figcaption>
    </div>
    <div>
      anvas id="nqCanvas" width="600" height="500"></canvas>
      <figcaption>åœ– 2ï¼šNQ Gamma Force Fieldï¼ˆ2/27 æ”¶ç›¤å‰ï¼Œç¾åƒ¹ Â±500 é»ï¼‰</figcaption>
    </div>
  </div>

  <p class="note">
    è¨»ï¼šæœ¬ Canvas ä½¿ç”¨èˆ‡ä½  Python ç¨‹å¼ç›¸åŒçš„ de>process_gamma_physics_v6</code> é‚è¼¯è¨ˆç®— Spot / Flip / CW / PWï¼Œä¸¦ä½¿ç”¨ de>GEX_M = NetGamma / 1e8 Ã— 100</code> ä½œç‚ºæ©«å‘æ¢é•·åº¦ã€‚
  </p>
</div>

<hr>

<div class="section">
  <h2>2. é—œéµåƒ¹ä½çŸ©é™£ï¼ˆES / NQï¼‰</h2>

  <div class="two-col">
    <div class="col">
      <h3>2.1 ES é—œéµåƒ¹ä½ï¼ˆç¯€é¸ï¼‰</h3>
      <table>
        <thead>
          <tr>
            <th>æœŸè²¨åƒ¹ä½</th>
            <th class="label">æ€§è³ª</th>
            <th>å–®é»å£“åŠ›<br>(å„„ç¾å…ƒ)</th>
            <th>ç´¯ç©è·¯å¾‘<br>(å„„ç¾å…ƒ)</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>6910</td>
            <td class="label">ğŸ‘‘ æœ€å¼·é˜»åŠ› (CW)</td>
            <td>+0.40</td>
            <td>+0.40</td>
          </tr>
          <tr>
            <td>6905</td>
            <td class="label">æµå‹•æ€§ç¯€é»</td>
            <td>+0.22</td>
            <td>+0.62</td>
          </tr>
          <tr>
            <td>6900</td>
            <td class="label">ğŸš¨ åˆ†æ°´å¶º (Flip)</td>
            <td>+0.03</td>
            <td>+0.65</td>
          </tr>
          <tr>
            <td>6895</td>
            <td class="label">æµå‹•æ€§ç¯€é»</td>
            <td>-0.08</td>
            <td>+0.58</td>
          </tr>
          <tr>
            <td>6890</td>
            <td class="label">æµå‹•æ€§ç¯€é»</td>
            <td>+0.14</td>
            <td>+0.71</td>
          </tr>
          <tr>
            <td>6860</td>
            <td class="label">ğŸ›¡ï¸ æœ€å¼·æ”¯æ’ (PW)</td>
            <td>â‰ˆä¸­ç­‰</td>
            <td>â‰ˆ2.x</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="col">
      <h3>2.2 NQ é—œéµåƒ¹ä½ï¼ˆç¯€é¸ï¼‰</h3>
      <table>
        <thead>
          <tr>
            <th>æœŸè²¨åƒ¹ä½</th>
            <th class="label">æ€§è³ª</th>
            <th>å–®é»å£“åŠ›<br>(å„„ç¾å…ƒ)</th>
            <th>ç´¯ç©è·¯å¾‘<br>(å„„ç¾å…ƒ)</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>24994</td>
            <td class="label">ğŸ‘‘ æœ€å¼·é˜»åŠ› (CW)</td>
            <td>+0.01</td>
            <td>-0.01</td>
          </tr>
          <tr>
            <td>24984</td>
            <td class="label">ğŸ¯ ç¾åƒ¹å€åŸŸ (Spot)</td>
            <td>-0.01</td>
            <td>-0.01</td>
          </tr>
          <tr>
            <td>24974</td>
            <td class="label">æµå‹•æ€§ç¯€é»</td>
            <td>-0.01</td>
            <td>-0.02</td>
          </tr>
          <tr>
            <td>24969</td>
            <td class="label">æµå‹•æ€§ç¯€é»</td>
            <td>-0.01</td>
            <td>-0.03</td>
          </tr>
          <tr>
            <td>24964</td>
            <td class="label">æµå‹•æ€§ç¯€é»</td>
            <td>-0.00</td>
            <td>-0.03</td>
          </tr>
          <tr>
            <td>24894</td>
            <td class="label">ğŸ›¡ï¸ æœ€å¼·æ”¯æ’ (PW)</td>
            <td>+0.13</td>
            <td>+0.16</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<hr>

<div class="section">
  <h2>3. äº¤æ˜“ Playbook â€“ ES / NQï¼ˆç°¡è¡¨ï¼‰</h2>

  <p>ä»¥ä¸‹ä¿ç•™åŸæœ¬çš„æ“ä½œé‚è¼¯æ‘˜è¦ï¼Œæ–¹ä¾¿ä½ å°ç…§ Canvas åœ–ç›´æ¥åŸ·è¡Œç›¤ä¸­æ±ºç­–ã€‚</p>

  <h3>3.1 ES â€“ é—œéµåƒ¹ä½æ“ä½œæ‘˜è¦</h3>
  <table>
    <thead>
      <tr>
        <th>åƒ¹ä½</th>
        <th class="label">æ€§è³ª</th>
        <th class="label">æ–¹å‘</th>
        <th class="label">æ“ä½œé‡é»</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>6910</td>
        <td class="label">ğŸ‘‘ CW</td>
        <td class="label"><span class="tag tag-short">æ¸›å¤š / ä½ˆç©º</span></td>
        <td class="text">é¦–æ¬¡æ‰“åˆ° 6910 ä¸”å‡ºç¾ä¸Šå½±ç·šï¼‹æ”¾é‡ï¼šå¤šå–®åˆ†æ‰¹æ¸›ç¢¼ï¼Œ6908â€“6912 å°å€‰ä½ˆç©ºï¼Œæ­¢æ 6925ã€‚</td>
      </tr>
      <tr>
        <td>6900</td>
        <td class="label">ğŸš¨ Flip</td>
        <td class="label"><span class="tag tag-neutral">è§€æœ› / å°å€‰</span></td>
        <td class="text">æ˜“è¢«é›™å‘æ´—ï¼›åƒ…å¯å°å€‰è©¦å–®ï¼Œå¤šå–®æ­¢æ 6885â€“6888ï¼Œç©ºå–®æ­¢æ 6910ã€‚</td>
      </tr>
      <tr>
        <td>6895</td>
        <td class="label">è²  Gamma ç¯€é»</td>
        <td class="label"><span class="tag tag-short">è¿½ç©º</span></td>
        <td class="text">å¾ 6910 ä¸€è·¯æ”¾é‡æ®ºä¸‹ä¾†å¾Œï¼Œ6895â€“6890 å¯è¿½ç©ºï¼Œæ­¢æ 6905â€“6910ã€‚</td>
      </tr>
      <tr>
        <td>6890</td>
        <td class="label">æ­£ Gamma ç¯€é»</td>
        <td class="label"><span class="tag tag-long">æ¸›ç©º / è©¦å¤š</span></td>
        <td class="text">ç©ºå–®å…ˆå›è£œ 30â€“50%ï¼Œ6888â€“6892 å¯è¼•å€‰è©¦å¤šï¼Œæ­¢æ 6880ã€‚</td>
      </tr>
      <tr>
        <td>6860</td>
        <td class="label">ğŸ›¡ï¸ PW</td>
        <td class="label"><span class="tag tag-long">åå¤š</span></td>
        <td class="text">é¦–æ¬¡æ¸¬è©¦ 6860â€“6850ï¼šç©ºå–®å¤§å¹…æ¸›å€‰ï¼Œ6850â€“6860 åˆ†æ‰¹æ¥å¤šï¼Œæ­¢æ 6835â€“6840ã€‚</td>
      </tr>
    </tbody>
  </table>

  <h3>3.2 NQ â€“ é—œéµåƒ¹ä½æ“ä½œæ‘˜è¦</h3>
  <table>
    <thead>
      <tr>
        <th>åƒ¹ä½</th>
        <th class="label">æ€§è³ª</th>
        <th class="label">æ–¹å‘</th>
        <th class="label">æ“ä½œé‡é»</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>24994</td>
        <td class="label">ğŸ‘‘ CW</td>
        <td class="label"><span class="tag tag-short">æ¸›å¤š / ä½ˆç©º</span></td>
        <td class="text">24990â€“25000 å‡ºç¾å‡çªç ´ï¼šå¤šå–®æ¸›ç¢¼ï¼Œ24990â€“25010 è©¦ç©ºï¼Œæ­¢æ 25040ã€‚</td>
      </tr>
      <tr>
        <td>24984</td>
        <td class="label">ğŸ¯ Spot</td>
        <td class="label"><span class="tag tag-neutral">è§€æœ›</span></td>
        <td class="text">ä¸é‡å€‰å°è³­ï¼›å¾…ä¸Šæ¸¬ 24994 å¤±æ•—æˆ–ä¸‹ç ´ 24974ã€24969 å†è¡Œå‹•ã€‚</td>
      </tr>
      <tr>
        <td>24974â€“24969</td>
        <td class="label">è²  Gamma é€šé“</td>
        <td class="label"><span class="tag tag-short">è¿½ç©º</span></td>
        <td class="text">24980ã€24970 åˆ†æ‰¹åŠ ç©ºï¼Œç›®æ¨™ 24920â€“24894ï¼Œçµ±ä¸€æ­¢æ 25000 ä¸Šæ–¹ã€‚</td>
      </tr>
      <tr>
        <td>24894</td>
        <td class="label">ğŸ›¡ï¸ PW</td>
        <td class="label"><span class="tag tag-long">åå¤š / æ¸›ç©º</span></td>
        <td class="text">é¦–æ¬¡æ¸¬ 24890â€“24900ï¼šç©ºå–®å¤§å¹…å¹³å€‰ï¼Œ24890â€“24900 è©¦å¤šï¼Œæ­¢æ 24850â€“24860ã€‚</td>
      </tr>
    </tbody>
  </table>
</div>

<script>
  // ç”± Python è¨ˆç®—å‡ºçš„ 2/27 ES/NQ è¦–çª— GEX_M + Futures æ•¸æ“š
  const esData = {
    spot: 6910.12,
    flip: 6900.12,
    cw: 6910.12,
    pw: 6860.12,
    futs: [6815.12,6820.12,6825.12,6830.12,6835.12,6840.12,6845.12,6850.12,6855.12,6860.12,6865.12,6870.12,6875.12,6880.12,6885.12,6890.12,6895.12,6900.12,6905.12,6910.12],
    gexm:[-11.66,-19.27,-22.5,-36.62,-40.79,-58.51,-47.54,-63.22,-52.62,-75.76,-44.34,-60.17,-45.34,-11.98,-23.85,13.65,-7.62,3.01,21.95,40.24]
  };

  const nqData = {
    spot: 24984.71,
    flip: 24994.71,
    cw: 24994.71,
    pw: 24894.71,
    futs: [24834.71,24844.71,24854.71,24864.71,24869.71,24874.71,24884.71,24894.71,24904.71,24914.71,24919.71,24924.71,24934.71,24944.71,24954.71,24964.71,24969.71,24974.71,24984.71,24994.71],
    gexm:[0.12,-3.22,-0.53,-0.33,-0.78,-1.21,-1.42,-4.02,0.04,-1.13,-0.62,-0.87,-0.08,-2.4,-0.99,-0.37,-0.83,-0.5,-1.44,0.53]
  };

  function drawForceField(canvas, data, symbol) {
    const ctx = canvas.getContext('2d');
    const W = canvas.width;
    const H = canvas.height;

    ctx.clearRect(0, 0, W, H);

    const futs = data.futs;
    const gex = data.gexm;

    const minF = Math.min(...futs);
    const maxF = Math.max(...futs);
    const minG = Math.min(...gex);
    const maxG = Math.max(...gex);

    const marginL = 60;
    const marginR = 20;
    const marginT = 20;
    const marginB = 30;
    const plotW = W - marginL - marginR;
    const plotH = H - marginT - marginB;

    function yScale(f) {
      return marginT + plotH - ( (f - minF) / (maxF - minF) ) * plotH;
    }
    const maxAbsG = Math.max(Math.abs(minG), Math.abs(maxG)) || 1;
    function xScale(g) {
      return (g / maxAbsG) * (plotW * 0.45);
    }

    // èƒŒæ™¯èˆ‡åº§æ¨™è»¸
    ctx.fillStyle = '#050814';
    ctx.fillRect(marginL, marginT, plotW, plotH);

    ctx.strokeStyle = '#444';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(marginL, marginT);
    ctx.lineTo(marginL, marginT + plotH);
    ctx.lineTo(marginL + plotW, marginT + plotH);
    ctx.stroke();

    // ä¸­å¿ƒå‚ç›´ç·šï¼ˆGamma ~ 0ï¼‰
    ctx.strokeStyle = '#2c3e50';
    ctx.setLineDash([4, 4]);
    ctx.beginPath();
    const xZero = marginL + plotW * 0.5;
    ctx.moveTo(xZero, marginT);
    ctx.lineTo(xZero, marginT + plotH);
    ctx.stroke();
    ctx.setLineDash([]);

    // ç•« bar
    const n = futs.length;
    const barH = plotH / n * 0.7;

    for (let i = 0; i < n; i++) {
      const f = futs[i];
      const g = gex[i];
      const y = yScale(f) - barH / 2;
      const w = xScale(g);

      ctx.fillStyle = g >= 0 ? '#00FF66' : '#FF3333';

      if (g >= 0) {
        ctx.fillRect(xZero, y, Math.max(1, w), barH);
      } else {
        ctx.fillRect(xZero + w, y, Math.max(1, -w), barH);
      }
    }

    // åŠƒ Spot / Flip / CW / PW æ°´å¹³ç·š
    function drawLine(price, color, style, label) {
      const y = yScale(price);
      ctx.strokeStyle = color;
      ctx.lineWidth = 1.2;
      if (style === 'dash') {
        ctx.setLineDash([6, 4]);
      } else if (style === 'dot') {
        ctx.setLineDash([2, 4]);
      } else {
        ctx.setLineDash([]);
      }
      ctx.beginPath();
      ctx.moveTo(marginL, y);
      ctx.lineTo(marginL + plotW, y);
      ctx.stroke();
      ctx.setLineDash([]);

      // label
      ctx.fillStyle = color;
      ctx.font = '11px sans-serif';
      ctx.fillText(label + ' ' + price.toFixed(0), marginL + 4, y - 3);
    }

    drawLine(data.spot, 'yellow', 'solid', 'Spot');
    drawLine(data.flip, '#00bcd4', 'dash', 'Flip');
    drawLine(data.cw, '#8bc34a', 'solid', 'CW');
    drawLine(data.pw, '#e91e63', 'dot', 'PW');

    // Y è»¸åˆ»åº¦
    ctx.fillStyle = '#b0bec5';
    ctx.font = '10px sans-serif';
    const ticks = 5;
    for (let i = 0; i <= ticks; i++) {
      const t = minF + (maxF - minF) * (i / ticks);
      const y = yScale(t);
      ctx.fillText(t.toFixed(0), 5, y + 3);
      ctx.strokeStyle = '#222';
      ctx.lineWidth = 0.5;
      ctx.beginPath();
      ctx.moveTo(marginL, y);
      ctx.lineTo(marginL + plotW, y);
      ctx.stroke();
    }

    // æ¨™é¡Œ
    ctx.fillStyle = '#ffffff';
    ctx.font = '13px sans-serif';
    ctx.fillText(symbol + ' Gamma Force Field (2026-02-27)', marginL, 14);
    ctx.font = '11px sans-serif';
    ctx.fillText('Bar = Net Gamma Exposure (approx. ç™¾è¬ USD)', marginL, H - 5);
  }

  window.addEventListener('load', function() {
    const esCanvas = document.getElementById('esCanvas');
    const nqCanvas = document.getElementById('nqCanvas');
    drawForceField(esCanvas, esData, 'ES');
    drawForceField(nqCanvas, nqData, 'NQ');
  });
</script>

</body>
</html>
